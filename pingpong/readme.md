# 基本玩法

遊戲最多可以兩個人同時進行，1P 位在下半部，2P 位在上半部，執行遊戲時玩家隨機選定位置，因此 AI 設計應該考慮位置條件。

遊戲有三種模式：

- **簡單模式**：單純的乒乓球對戰。
- **一般模式**：對戰中加入入`切球`機制。
- **困難模式**：對戰中加入`切球`機制與`障礙物`。

`遊戲目標` &nbsp;&nbsp;&nbsp; 讓對手沒接到球，自己的分數達到`*獲勝分數`

`失敗條件`&nbsp;&nbsp;&nbsp; 對手的分數達到`*獲勝分數`

`平手條件`&nbsp;&nbsp;&nbsp; 球速超過 `40`

`\*獲勝分數`：指定遊戲結束的分數，預設為 3。當任一方得到指定的分數時，就結束遊戲。

# 遊戲系統

## 板子

- 長方形板子，1P 是紅色的，2P 是藍色的。
- 板子移動速度是每個影格 (±5, 0)。
- 1P 板子的初始位置在 (80, 420)，2P 則在 (80, 70)

## 球

- 綠色正方形。
- 每場遊戲開始時，都是由 1P 先發球，之後每個回合輪流發球。
- 球由板子的位置發出，可以選擇往左或往右發球。如果沒有在 150 影格內發球，則會自動往隨機一個方向發球。
- 初始球速是每個影格 (±7, ±7)，發球後每 100 影格增加 1。

## 障礙物

- 黃色矩形。
- x 初始位置在 0 到 180 之間，每 20 為一單位隨機決定，y 初始位置固定在 240，移動速度為每影格 (±5, 0)。
- 障礙物會往復移動，初始移動方向是隨機決定的。
- 障礙物不會切球，球撞到障礙物會保持球的速度。
- 障礙物加入在`困難`的難度中。

## AI 執行行為

![dot-key](/assets/icons/dot.svg)&nbsp;&nbsp;&nbsp;![dash-key](/assets/icons/slash.svg)&nbsp;&nbsp;&nbsp;1P 將球發往左/右邊。

![left-key](/assets/icons/left.svg)&nbsp;&nbsp;&nbsp;![right-key](/assets/icons/right.svg)&nbsp;&nbsp;&nbsp;1P 往左/右移動板子，每次移動 5px。

![q-key](/assets/icons/q.svg)&nbsp;&nbsp;&nbsp;![e-key](/assets/icons/e.svg)&nbsp;&nbsp;&nbsp;2P 將球發往左/右邊

![A-key](/assets/icons/a.svg)&nbsp;&nbsp;&nbsp;![D-key](/assets/icons/d.svg)&nbsp;&nbsp;&nbsp;2P 往左/右移動板子，每次移動 5px。

## 座標系統

- 使用 pygame 座標系統`，左上角為 (0,0)`，x 方向以右為正，y 方向以下為正，單位為 px。
- 螢幕大小 200 x 500。
- 板子 40 x 5。
- 球 5 x 5。
- 障礙物 30 x 20。

## 切球機制

在板子接球時，球的 x 方向速度會因為板子的移動而改變：

- 如果板子與球往同一個方向移動時，球的 x 方向速度會增加 3 (只增加一次)。
- 如果板子沒有移動，則球的 x 方向速度會恢復為目前的基礎速度。
- 如果板子與球往相反方向移動時，球會被打回原來過來的方向，其 x 方向速度恢復為目前的基礎速度。 - 切球機制加入在`一般`與`困難`難度中。
